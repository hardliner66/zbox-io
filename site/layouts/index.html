{{ partial "header" . }}

<!-- Sidebar Menu -->
<div class="ui sidebar inverted vertical menu left">
  <a class="item" href="/">Home</a>
  <a class="item scrollLink" href="#start">Get Started</a>
  <a class="item scrollLink" href="#how">How It Works</a>
  <a class="item scrollLink" href="#features">Features</a>
  <a class="item" href="https://docs.rs/zbox">Docs</a>
  <a class="item" href="https://github.com/zboxfs/zbox">GitHub</a>
</div>

<!-- Main Content -->
<div class="pusher">
  <!-- Page Header -->
  <header class="ui basic vertical segment">
    <div id="site-nav" class="ui container">
      <div class="ui large text menu">
        <a class="toc item mobile only"><i class="sidebar icon"></i></a>
        <a class="item mobile hidden" href="/"><img class="logo" src="svg/logo-text.svg" alt="Zbox" /></a>
        <nav class="right item mobile hidden">
            <a class="item scrollLink" href="#start">Get Started</a>
            <a class="item scrollLink" href="#how">How It Works</a>
            <a class="item scrollLink" href="#features">Features</a>
            <a class="item" href="https://docs.rs/zbox">Docs</a>
            <a class="ui primary basic button" href="https://github.com/zboxfs/zbox">GitHub</a>
        </nav>
      </div>
    </div>
  </header>

  <main id="main" class="ui basic vertical segment">
    <!-- Hero -->
    <section id="hero" class="ui basic vertical segment container">
      <div class="ui stackable centered grid">
        <div class="center aligned three wide column">
          <img src="svg/logo.svg" alt="Zbox Logo" />
        </div>
        <div class="seven wide column mobile center">
          <h1 class="ui huge header">Keep App Files Securely and Privately</h1>
          <p>Zbox is a zero-details, privacy-focused embeddable file system</p>
          <a class="ui huge primary button" href="#start">
            Get Started <i class="arrow circle right icon"></i>
          </a>
        </div>
      </div>
    </section>

    <!-- How it works -->
    <section id="how" class="ui inverted vertical segment">
      <div class="ui stackable three column grid container">
        <div class="center aligned sixteen wide column">
          <h2>How It Works</h2>
        </div>
        <div class="column">
          <img src="svg/key.svg" width="40" />
          <h4>100% Encrypted, Privacy Reserved Repository</h4>
          <p>Encrypted by state-of-the-art crypto, files, directories and metadata are encapsulated in a highly secure repository, which makes data leakage impossible.</p>
        </div>
        <div class="column">
          <img src="svg/safe.svg" width="40" />
          <h4>Exclusive Access, In-App File System</h4>
          <p>A dedicated and isolated file system running completely inside your app, no other processes can access your precious data.</p>
        </div>
        <div class="column">
          <img src="svg/data_protection.svg" width="40" />
          <h4>No-Knowledge, Plugable Storages</h4>
          <p>Memory, on-disk files, RDBMS(*) and key-value object store(*) can all be plugged as underlying storage, while having zero knowledge of your data.</p>
          <p class="coming-soon">(*) coming soon</p>
        </div>
      </div>
    </section>

    <!-- Features -->
    <section id="features" class="ui basic vertical segment">
      <div class="ui stackable centered grid container">
        <div class="center aligned sixteen wide column">
          <h2>Features</h2>
        </div>
        <div class="row">
          <div class="twelve wide column">
            <ul class="ui relaxed large list">
              <li class="item">
                <i class="checkmark icon"></i>
                <div class="content">Everything is encrypted, including metadata and directory structure</div>
              </li>
              <li class="item">
                <i class="checkmark icon"></i>
                <div class="content">State-of-the-art cryptography: AES-256-GCM (hardware), XChaCha20-Poly1305, Argon2 and etc.</div>
              </li>
              <li class="item">
                <i class="checkmark icon"></i>
                <div class="content">Multiple storages, including memory, OS file system, RDBMS (*), key-value object store (*)</div>
              </li>
              <li class="item">
                <i class="checkmark icon"></i>
                <div class="content">Content-based data chunk deduplication and file-based deduplication</div>
              </li>
              <li class="item">
                <i class="checkmark icon"></i>
                <div class="content">Data compression using LZ4 in fast mode</div>
              </li>
              <li class="item">
                <i class="checkmark icon"></i>
                <div class="content">Data integrity is guaranteed by authenticated encryption primitives (AEAD crypto)</div>
              </li>
              <li class="item">
                <i class="checkmark icon"></i>
                <div class="content">File contents versioning</div>
              </li>
              <li class="item">
                <i class="checkmark icon"></i>
                <div class="content">Copy-on-write (COW) semantics</div>
              </li>
              <li class="item">
                <i class="checkmark icon"></i>
                <div class="content">ACID transactional operations</div>
              </li>
              <li class="item">
                <i class="checkmark icon"></i>
                <div class="content">Snapshot</div>
              </li>
              <li class="item coming-soon">
                (*) coming soon
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Get started -->
    <section id="start" class="ui basic vertical segment">
      <div class="ui stackable centered grid container">
        <div class="center aligned sixteen wide column">
          <h2>Get Started</h2>
        </div>
        <div class="row">
          <div class="twelve wide column">
              <div class="ui top attached tabular menu">
                <a class="item active" data-tab="rust">Rust</a>
                <a class="item" data-tab="cpp">C/C++</a>
              </div>
              <div class="ui bottom attached tab segment active" data-tab="rust">
                <ol class="ui list">
                  <li class="item">
                    <p>Install <a href="https://libsodium.org">libsodium</a> as dependency</p>
                  </li>
                  <li class="item">
                    <p>Add the following dependency to your Cargo.toml</p>
                    <pre><code class="language-ini">[dependencies]
zbox = "0.5.1"</code></pre>
                  </li>
                  <li class="item">
                    <p>Add zbox as extern crate in your lib.rs or main.rs file</p>
                    <pre><code class="language-rust">extern crate zbox;</code></pre>
                  </li>
                  <li class="item">
                    <p>A simple "Hello, world!" example:</p>
                    <pre><code class="language-rust">extern crate zbox;

use std::io::{Seek, SeekFrom, Read, Write};
use zbox::{init_env, RepoOpener, OpenOptions};

fn main() {
    // initialise zbox environment, called first
    init_env();

    // create and open a repository in current OS directory
    let mut repo = RepoOpener::new()
        .create(true)
        .open("file://./my_repo", "your password")
        .unwrap();

    // create and open a file in repository for writing
    let mut file = OpenOptions::new()
        .create(true)
        .open(&mut repo, "/my_file.txt")
        .unwrap();

    // use std::io::Write trait to write data into it
    file.write_all(b"Hello, world!").unwrap();

    // finish writing to make a permanent version of content
    file.finish().unwrap();

    // read file content using std::io::Read trait
    let mut content = String::new();
    file.seek(SeekFrom::Start(0)).unwrap();
    file.read_to_string(&mut content).unwrap();
    assert_eq!(content, "Hello, world!");
}</code></pre>
                  </li>
                  <li class="item">
                    <p>Start coding by reading the <a href="https://docs.rs/zbox">documentation</a> or <a href="https://github.com/zboxfs/zbox">source code</a>. Have fun!</p>
                  </li>
                </ol>
              </div>
              <div class="ui bottom attached tab segment" data-tab="cpp">
                <ol class="ui list">
                  <li class="item">
                    <p>Install <a href="https://libsodium.org">libsodium</a> as dependency</p>
                  </li>
                  <li class="item">
                    <p>Clone Zbox source code from GitHub: <a href="https://github.com/zboxfs/zbox">https://github.com/zboxfs/zbox</a></p>
                  </li>
                  <li class="item">
                    <p>Go to the source code directory, then follow the ritual:</p>
                    <pre><code class="language-bash">./autogen.sh
./configure
make && make install</code></pre>
                  </li>
                  <li class="item">
                    <p>A simple "Hello, world!" example in C:</p>
                    <pre><code class="language-c">#include &lt;stdint.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;assert.h&gt;
#include "zbox.h"

int main() {
    const char *uri = "mem://repo";
    const char *pwd = "pwd";
    int ret;

    // initialise zbox environment, called first
    ret = zbox_init_env();
    assert(!ret);

    // create a repo opener
    zbox_opener opener = zbox_create_opener();
    zbox_opener_create(opener, true);

    // open a repo
    zbox_repo repo;
    ret = zbox_open_repo(&repo, opener, uri, pwd);
    assert(!ret);

    // free the repo opener
    zbox_free_opener(opener);

    // create a file for read/write
    zbox_file file;
    ret = zbox_repo_create_file(&file, repo, "/file");
    assert(!ret);

    // write to file and finish it to make a permanent version of content
    const char *buf = "Hello, world!";
    size_t buf_len = strlen(buf);
    ret = zbox_file_write(file, (const uint8_t*)buf, buf_len);
    assert(ret == buf_len);
    ret = zbox_file_finish(file);
    assert(!ret);

    // read file
    char dst[32] = { 0 };
    ret = zbox_file_read((uint8_t*)dst, buf_len, file);
    assert(ret == buf_len);
    assert(!memcmp(dst, buf, buf_len));

    // close file and repo
    zbox_close_file(file);
    zbox_close_repo(repo);

    return 0;
}
</code></pre>
                  </li>
                  <li class="item">
                    <p>Find more examples in <a href="https://github.com/zboxfs/zbox">Zbox source code</a>. Have fun!</p>
                  </li>
                </ol>
              </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer id="footer" class="ui inverted basic segment">
    <div class="ui container">
      <div class="ui stackable grid">
        <section class="left floated four wide column mobile center">
          <p><a href="/"><img src="svg/logo-full-dark.svg" height="32" alt="Zbox" /></a></p>
          <p>A zero-details, privacy-focused embeddable file system</p>
          <div id="social" class="ui inverted horizontal link list">
            <a class="item" href="https://github.com/zboxfs/zbox"><i class="github icon"></i></a>
            <a class="item" href="https://twitter.com/ZboxFS"><i class="twitter icon"></i></a>
          </div>
          <p id="copyright">&copy; 2017-2018 Zbox</p>
        </section>
        <section class="right floated nine wide column mobile hidden">
          <nav id="bottom-nav" class="ui two column grid">
            <section class="column">
              <h4 class="ui inverted header">How to Use</h4>
              <div class="ui inverted link list">
                <a class="item scrollLink" href="#start">Get Started</a>
                <a class="item scrollLink" href="#how">How It Works</a>
                <a class="item scrollLink" href="#features">Features</a>
                <a class="item" href="https://docs.rs/zbox">Read the Docs</a>
              </div>
            </section>
            <section class="column">
              <h4 class="ui inverted header">Community</h4>
              <div class="ui inverted link list">
                <a class="item" href="https://github.com/zboxfs/zbox">GitHub Repo</a>
                <a class="item" href="https://github.com/zboxfs/zbox/issues">Submit an Issue</a>
                <a class="item" href="https://gitter.im/zboxfs/zbox">Join Chat</a>
              </div>
            </section>
          </nav>
        </section>
      </div>
    </div>
  </footer>

</div>

{{ partial "footer" . }}

